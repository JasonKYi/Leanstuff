<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>M40001_2</title>
  <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      processEscapes: true
    }
  });
  </script>
  <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML" async>
  </script>
  
  <link href="../lecture.css" rel="stylesheet">
  
  <link href="../colorful.css" rel="stylesheet">
  

</head>
<body>
<div id="wrapper">
<div id="content">
<h1>2.2.1 Function Composition
</h1>
<div class="definition_wrapper">
  <span class="definition_label">Definition</span>
  <div class="definition_content">
    <div class="definition_text">
      Given two functions $f : A → B$, $g : B → C$ where $A, B, C$ are sets, then $(g ∘ f)(x)$ (the composition of $g$ and $f$) is $g(f(x))$.

    </div>
    <div class="definition_lean">
     <div class="highlight"><pre><span class="kd">def</span> <span class="n">my_composition</span> <span class="o">{</span><span class="n">A</span> <span class="n">B</span> <span class="n">C</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">A</span> <span class="bp">→</span> <span class="n">B</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">B</span> <span class="bp">→</span> <span class="n">C</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">λ</span> <span class="n">x</span> <span class="o">:</span> <span class="n">A</span><span class="o">,</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">x</span><span class="o">)</span>
</pre></div>
   
    </div>
  </div>
</div>

  <p>Remark. Here, to define $\tt{my_composition}$ we used something called lambda abstraction $\tt{λ x : A, g (f x)}$.
This is essentially saying we are mapping $\tt{x}$ with type $\tt{A}$ to $\tt{g(f(x))}$.
Read more about lambda abstraction <a href = "shorturl.at/hGPX1">here</a> or <a href = "https://en.wikipedia.org/wiki/Lambda_calculus">here<a>.</p>


<h1>2.3 Injectivity, Surjectivity and Bijectivity
</h1>
<div class="definition_wrapper">
  <span class="definition_label">Definition</span>
  <div class="definition_content">
    <div class="definition_text">
      A function $f : X → Y$ is called injective if distinct elements of $X$ get mapped to distinct elements of $Y$. More formally, $f$ is injective if $∀ a, b ∈ X, f(a) = f(b) ⇒ a = b$.

    </div>
    <div class="definition_lean">
     <div class="highlight"><pre><span class="kd">def</span> <span class="n">my_injective</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">f</span><span class="o">(</span><span class="n">b</span><span class="o">)</span> <span class="bp">→</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</pre></div>
   
    </div>
  </div>
</div>
<div class="definition_wrapper">
  <span class="definition_label">Definition</span>
  <div class="definition_content">
    <div class="definition_text">
      A function $f : X → Y$ is called surjective if every element of $Y$ gets "hit" by $f$. More formally, $f$ is surjective if $∀ y ∈ Y, ∃ x ∈ X$ such that $f(x) = y$.

    </div>
    <div class="definition_lean">
     <div class="highlight"><pre><span class="kd">def</span> <span class="n">my_surjective</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="bp">∀</span> <span class="n">y</span> <span class="o">:</span> <span class="n">Y</span><span class="o">,</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
   
    </div>
  </div>
</div>
<div class="definition_wrapper">
  <span class="definition_label">Definition</span>
  <div class="definition_content">
    <div class="definition_text">
      A function $f : X → Y$ is called bijective if it is both injective and surjective.

    </div>
    <div class="definition_lean">
     <div class="highlight"><pre><span class="kd">def</span> <span class="n">my_bijective</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:=</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">f</span>
</pre></div>
   
    </div>
  </div>
</div>

  <p>Remark. Although we have defined some lovely properties for our functions, it turns out that these definitions are already defined in the LEAN maths library.
So while our effort might be wasted, we can now use some theorems already written without going through them ourselves!</p>


<h1>Bijectivity and Composition
</h1>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>Let $f : X → Y$ and $g : Y → Z$ be functions, then if $f$ and $g$ are both injective, then so is $g ∘ f$.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span class="kd">theorem</span> <span class="n">both_injective</span> 
    <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">injective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">Suppose that $f$ and $g$ are injective functions, we need to show that $g ∘ f$ is also injective, i.e. if $(g ∘ f)(a) = (g ∘ f)(b)$, then $a = b$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">intros</span> <span class="n">h</span> <span class="n">a</span> <span class="n">b</span> <span class="n">ha</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">injective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Since $g$ is injective, we have $f(a) = f(b)$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">apply</span> <span class="n">h.left</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">b</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">b</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Similarly, since $f$ is injective, $a = b$, which is exactly what we wanted!</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">apply</span> <span class="n">h.right</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">b</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">b</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">assumption</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">b</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">a</span> <span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">b</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>

  <p>Remark. Notice that in step 2, LEAN knew that by definition, $(g ∘ f)(x) = g(f(x))$, so we have $g (f(a)) = g (f(b))$, how smart is that!</p>


<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>Let $f : X → Y$ and $g : Y → Z$ be functions, then if $f$ and $g$ are both surjective, then so is $g ∘ f$.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span class="kd">theorem</span> <span class="n">both_surjective</span>
    <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">Suppose that $f$ and $g$ are surjective functions, we need to show that $g ∘ f$ is also surjective, i.e. $∀ z ∈ Z, ∃ x ∈ X, (g ∘ f)(x) = z$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">intros</span> <span class="n">h</span> <span class="n">z</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Since $g$ is surjective, there is a $y ∈ Y$ such that $g(y) = z$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">y</span> <span class="o">:</span> <span class="n">Y</span><span class="o">,</span> <span class="n">g</span><span class="o">(</span><span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span> <span class="n">apply</span> <span class="n">h.right</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">cases</span> <span class="n">ha</span> <span class="k">with</span> <span class="n">y</span> <span class="n">hy</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Similarly, as $f$ is surjective, there is a $x ∈ X$ such that $f(x) = y$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="k">have</span> <span class="n">hb</span> <span class="o">:</span> <span class="bp">∃</span> <span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">,</span> <span class="n">f</span><span class="o">(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span> <span class="n">apply</span> <span class="n">h.left</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
<span class="n">hb</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">cases</span> <span class="n">hb</span> <span class="k">with</span> <span class="n">x</span> <span class="n">hx</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
<span class="n">hb</span> <span class="o">:</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">But by definition, $(g ∘ f)(x) = g(f(x)) = g(y) = z$ So we are done!</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">existsi</span> <span class="n">x</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">rwa</span> <span class="o">[</span><span class="bp">←</span><span class="n">hy</span><span class="o">,</span> <span class="bp">←</span><span class="n">hx</span><span class="o">]</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">h</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">z</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hy</span> <span class="o">:</span> <span class="n">g</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">z</span><span class="o">,</span>
<span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hx</span> <span class="o">:</span> <span class="n">f</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">z</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>Let $f : X → Y$ and $g : Y → Z$ be functions, then if $f$ and $g$ are both bijective, then so is $g ∘ f$.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span class="kd">theorem</span> <span class="n">both_bijective</span>
    <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">Z</span><span class="o">)</span> <span class="o">:</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">bijective</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">bijective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">Since $f$ and $g$ are bijective, they are also injective and surjective.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">rintro</span> <span class="o">⟨⟨</span><span class="n">hfi</span><span class="o">,</span> <span class="n">hfs</span><span class="o">⟩,</span> <span class="n">hgi</span><span class="o">,</span> <span class="n">hgs</span><span class="o">⟩,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">bijective</span> <span class="n">g</span> <span class="bp">→</span> <span class="n">bijective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">split</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">But since $f$ and $g$ are injective, $g ∘ f$ is injective by our previous theorem.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">apply</span> <span class="n">both_injective</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">split</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">injective</span> <span class="n">g</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">g</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">repeat</span> <span class="o">{</span><span class="n">assumption</span><span class="o">},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">g</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Similarly, since $f$ and $g$ surjective, $g ∘ f$ is surjective.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">apply</span> <span class="n">both_surjective</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">split</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span> <span class="bp">∧</span> <span class="n">surjective</span> <span class="n">g</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">g</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Hence, since $g ∘ f$ is injective and surjective, $g ∘ f$ is bijective.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">repeat</span> <span class="o">{</span><span class="n">assumption</span><span class="o">}</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">g</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="n">Z</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Z</span><span class="o">,</span>
<span class="n">hfi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hgi</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">g</span><span class="o">,</span>
<span class="n">hgs</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">g</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">g</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
<h1>2.4 Inverses
</h1>
<div class="definition_wrapper">
  <span class="definition_label">Definition</span>
  <div class="definition_content">
    <div class="definition_text">
      By digging through $\tt{functions}$, it turns out that the brilliant people of LEAN has not yet defined two sided inverse as the time of writting this. 
So let's define $g : Y → X$ to be the two sided inverse of $f : X → Y$ if and only if $∀ x ∈ X, (g ∘ f)(x) = x$ and $∀ y ∈ Y, (f ∘ g)(y) = y$.

    </div>
    <div class="definition_lean">
     <div class="highlight"><pre><span class="kd">def</span> <span class="n">two_sided_inverse</span> <span class="o">{</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">}</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">X</span><span class="o">)</span> <span class="o">:=</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">x</span> <span class="o">:</span> <span class="n">X</span><span class="o">,</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)(</span><span class="n">x</span><span class="o">)</span> <span class="bp">=</span> <span class="n">x</span><span class="o">)</span> <span class="bp">∧</span> <span class="o">(</span><span class="bp">∀</span> <span class="n">y</span> <span class="o">:</span> <span class="n">Y</span><span class="o">,</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)(</span><span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span><span class="o">)</span>
</pre></div>
   
    </div>
  </div>
</div>
<div class="theorem_wrapper">
  <span class="theorem_label">Theorem</span>
  <div class="theorem_content">
	<div class="theorem_text">
	  <p>A function $f : X → Y$ has a two-sided inverse if and only if it is a bijection.</p>

	</div>

	<div class="theorem_lean">
	  <div class="highlight"><pre><span class="kd">theorem</span> <span class="n">exist_two_sided_inverse</span>
    <span class="o">(</span><span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">)</span> <span class="o">(</span><span class="n">f</span> <span class="o">:</span> <span class="n">X</span> <span class="bp">→</span> <span class="n">Y</span><span class="o">)</span> <span class="o">:</span> <span class="o">(</span><span class="bp">∃</span> <span class="n">g</span> <span class="o">:</span> <span class="n">Y</span> <span class="bp">→</span> <span class="n">X</span><span class="o">,</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">bijective</span> <span class="n">f</span> <span class="o">:=</span>
</pre></div>

	</div>
  </div>

  <div class="proof_wrapper">
    <span class="proof_label">Proof</span>
	<div class="proof_content">
	  
	  <div class="proof_item">
		<span class="proof_item_text">Again, since the question is in the form of 'if and only if', we need to prove both sides of the implications.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">split</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="bp">↔</span> <span class="n">bijective</span> <span class="n">f</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="bp">→</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">$(⇒)$ Suppose the function $f : X → Y$ has a two sided inverse $g$, we need to show that $f$ is bijective, i.e. it is injective and surjective.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">rintro</span> <span class="o">⟨</span><span class="n">g</span><span class="o">,</span> <span class="o">⟨</span><span class="n">hlinv</span><span class="o">,</span> <span class="n">hrinv</span><span class="o">⟩⟩,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span> <span class="bp">→</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">So lets first show that $f$ is injective.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="k">have</span> <span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Suppose we have $f(p) = f(q)$ for some $p q ∈ X$, then $f$ is injective if $p = q$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">intros</span> <span class="n">p</span> <span class="n">q</span> <span class="n">hf</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">f</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">q</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Since $f(p) = f(q)$, we have $g(f(p)) = g(f(q))$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">replace</span> <span class="n">hf</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">),</span> <span class="n">rw</span> <span class="n">hf</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">f</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">q</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">)</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">But since $g$ is a double sided inverse of $f$, $∀ x ∈ X, g(f(x)) = x$, hence $p = g(f(p))= g(f(q)) = q$ which is exactly what we need!</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span> <span class="o">:=</span> <span class="n">hlinv</span> <span class="n">p</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">)</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">),</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="k">have</span> <span class="n">hb</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">)</span> <span class="bp">=</span> <span class="n">q</span> <span class="o">:=</span> <span class="n">hlinv</span> <span class="n">q</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">),</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">),</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span><span class="o">,</span>
<span class="n">hb</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">)</span> <span class="bp">=</span> <span class="n">q</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">rw</span> <span class="o">[</span><span class="n">ha</span><span class="o">,</span> <span class="n">hb</span><span class="o">]</span> <span class="n">at</span> <span class="n">hf</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">),</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span><span class="o">,</span>
<span class="n">hb</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">)</span> <span class="bp">=</span> <span class="n">q</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span><span class="o">,</span>
<span class="n">hb</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">)</span> <span class="bp">=</span> <span class="n">q</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">assumption</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">p</span> <span class="n">q</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">p</span><span class="o">)</span> <span class="bp">=</span> <span class="n">p</span><span class="o">,</span>
<span class="n">hb</span> <span class="o">:</span> <span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">q</span><span class="o">)</span> <span class="bp">=</span> <span class="n">q</span><span class="o">,</span>
<span class="n">hf</span> <span class="o">:</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>
<span class="bp">⊢</span> <span class="n">p</span> <span class="bp">=</span> <span class="n">q</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Now we need to show that $f$ is surjective, i.e. $∀ y ∈ Y, ∃ x ∈ X, f(x) = y$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="k">have</span> <span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">intro</span> <span class="n">y</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">y</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Since we have $g(y) ∈ X$, suppose we choose $x$ to be $g(y)$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">existsi</span> <span class="n">g</span> <span class="n">y</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">f</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">y</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">But, as $g$ is a double inverse of $f$, $f(g(y)) = y$ which is exactly what we need!</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">exact</span> <span class="n">hrinv</span> <span class="n">y</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">y</span><span class="o">)</span> <span class="bp">=</span> <span class="n">y</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Thus, as $f$ is both injective and surjective, $f$ is bijective!</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">split</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">all_goals</span> <span class="o">{</span><span class="n">try</span> <span class="o">{</span><span class="n">assumption</span><span class="o">}},</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">injective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hlinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span><span class="o">,</span>
<span class="n">hrinv</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfbsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="n">surjective</span> <span class="n">f</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">$(⇐)$ Now lets prove the reverse implication, i.e. if $f$ is bijective, then $f$ has a two-sided inverse.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">rintro</span> <span class="o">⟨</span><span class="n">hfinj</span><span class="o">,</span> <span class="n">hfsur</span><span class="o">⟩,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span>
<span class="bp">⊢</span> <span class="n">bijective</span> <span class="n">f</span> <span class="bp">→</span> <span class="o">(</span><span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span><span class="o">)</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Since $f$ is surjective, $∀ y ∈ Y, ∃ x ∈ X$ such that $f(x) = y$, lets choose this $x$ to be our output of $g(y)$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">choose</span> <span class="n">g</span> <span class="n">hg</span> <span class="n">using</span> <span class="n">hfsur</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">hfsur</span> <span class="o">:</span> <span class="n">surjective</span> <span class="n">f</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">existsi</span> <span class="n">g</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∃</span> <span class="o">(</span><span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Now we need to show that $g$ is a double sided inverse of $f$ so let's first show that $g$ is a left inverse of $f$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">split</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="n">two_sided_inverse</span> <span class="n">f</span> <span class="n">g</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">intro</span> <span class="n">a</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">x</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">),</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">x</span> <span class="bp">=</span> <span class="n">x</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Consider that since, by definition of $g$, $∀ y ∈ Y, f(g(y)) = y$ we have $f(g(f(a))) = f(a)$,</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="k">have</span> <span class="n">ha</span> <span class="o">:</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">))</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">))</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">))</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
      </div>
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>        <span class="n">rw</span> <span class="n">hg</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">),</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">3</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span>
<span class="bp">⊢</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">))</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">))</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">))</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">therefore, as $f$ is injective, we have $f(g(f(a))) = f(a) ⇒ g(f(a)) = f(a)$. Thus, $g$ is a left inverse of $f$.</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">exact</span> <span class="n">hfinj</span> <span class="n">ha</span><span class="o">,</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="mi">2</span> <span class="n">goals</span>
<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span><span class="o">,</span>
<span class="n">a</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">ha</span> <span class="o">:</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="o">(</span><span class="n">f</span> <span class="n">a</span><span class="o">))</span> <span class="bp">=</span> <span class="n">f</span> <span class="n">a</span>
<span class="bp">⊢</span> <span class="o">(</span><span class="n">g</span> <span class="bp">∘</span> <span class="n">f</span><span class="o">)</span> <span class="n">a</span> <span class="bp">=</span> <span class="n">a</span>

<span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	  <div class="proof_item">
		<span class="proof_item_text">Now, all we have left to prove is that $g$ is a right inverse of $f$. But that is true by definition, so we are done!</span>
    <div class="proof_item_lean">
      
      <div class="proof_line">
        <span class="tactic_left" href="#"></span>
        <div class="highlight"><pre>    <span class="n">assumption</span>
</pre></div>

		<span class="tactic_right" href="#"></span>
		<span class="tactic_state_left"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
		<span class="tactic_state_right"><div class="highlight"><pre><span class="n">α</span> <span class="o">:</span> <span class="kt">Type</span><span class="o">,</span>
<span class="n">X</span> <span class="n">Y</span> <span class="o">:</span> <span class="n">set</span> <span class="n">α</span><span class="o">,</span>
<span class="n">f</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">X</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">,</span>
<span class="n">hfinj</span> <span class="o">:</span> <span class="n">injective</span> <span class="n">f</span><span class="o">,</span>
<span class="n">g</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span> <span class="bp">→</span> <span class="bp">↥</span><span class="n">X</span><span class="o">,</span>
<span class="n">hg</span> <span class="o">:</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">b</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="n">f</span> <span class="o">(</span><span class="n">g</span> <span class="n">b</span><span class="o">)</span> <span class="bp">=</span> <span class="n">b</span>
<span class="bp">⊢</span> <span class="bp">∀</span> <span class="o">(</span><span class="n">y</span> <span class="o">:</span> <span class="bp">↥</span><span class="n">Y</span><span class="o">),</span> <span class="o">(</span><span class="n">f</span> <span class="bp">∘</span> <span class="n">g</span><span class="o">)</span> <span class="n">y</span> <span class="bp">=</span> <span class="n">y</span>
</pre></div>
</span>
      </div>
      
    </div>
	  </div>
	  
	</div>
    <span class="proof_qed">QED.</span>
  </div>
</div>
</div>
<div id="dragbar"></div>
<div id="tactic_state_wrapper">
  <h1 id="tactic_state_header">Tactic state</h1>
<div id="tactic_state">
</div>
</div>
</div>

<script src="../lean.js" type="text/javascript"></script>

<script src="../jquery.min.js" type="text/javascript"></script>

</body>
</html>
